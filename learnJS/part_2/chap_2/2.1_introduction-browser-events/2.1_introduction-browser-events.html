<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <h2>Task #1. Скрыть элемент по нажатию кнопки</h2>
  <p>Добавьте JavaScript к кнопке button, чтобы при нажатии
    div id="text" исчезал. элемент></p>

  <button id="textHide" onclick="hideText()">Исчезновение</button>
  <div id="text">Исчезни меня</div>

  <script>
    const text = document.querySelector('#text');
    const button = document.querySelector('#textHide');

    const hideText = () => text.remove();
    text.addEventListener('click', hideText);
  </script>

  <code>
    const text = document.querySelector('#text');
    const button = document.querySelector('#textHide');

    const hideText = () => text.remove();
    text.addEventListener('click', hideText);
    </code>

  <hr>

  <h2>Task #2. Спрятать себя</h2>
  Создайте кнопку, которая будет скрывать себя по нажатию.</p>

  <button id="hideMe" onclick="removeButton()">Hide me</button>

  <script>
    const button2 = document.querySelector('#hideMe');
    const removeButton = () => button2.addEventListener('click', button2.remove());
  </script>

  <code>
    const button2 = document.querySelector('#hideMe');
    const removeButton = () => button2.addEventListener('click', button2.remove());
    </code>

  <hr>

  <h2>Task #3. Какой обработчик запустится?</h2>
  <p>В переменной button находится кнопка. Изначально на ней нет обработчиков.
    Который из обработчиков запустится? Что будет выведено при клике после выполнения кода?</p>

  <code>
      button.addEventListener("click", () => alert("1"));
      button.removeEventListener("click", () => alert("1"));
      button.onclick = () => alert(2);

      Answer: 1, 2. onclick сработает вне зависимости от addEventListener. 
      Чтобы сработывал addEventListener и removeEventListener 
      корректно нужно добавить отдельную функцию вторым аргументом.
    </code>

  <hr>

  <h2>Task #4. Передвиньте мяч по полю</h2>
  <p>Пусть мяч перемещается при клике на поле, туда, куда был клик, вот так:
    Требования:
    Центр мяча должен совпадать с местом нажатия мыши (если это возможно без пересечения краёв поля);
    CSS-анимация желательна, но не обязательна;
    Мяч ни в коем случае не должен пересекать границы поля;
    При прокрутке страницы ничего не должно ломаться;
    Код должен уметь работать с различными размерами мяча и поля, не привязываться к каким-либо фиксированным
    значениям.
    Используйте свойства event.clientX/event.clientY для определения координат мыши при клике.</p>
  Нажмите на поле для перемещения мяча.
  <br> Мяч не должен выходить за границы поля.


  <div id="field">
    <img src="https://ru.js.cx/clipart/ball.svg" id="ball"> . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . .
  </div>

  <script>
    const field = document.querySelector('#field');
    const ball = document.querySelector('#ball');
    const ballGetBounding = ball.getBoundingClientRect();


    field.addEventListener('click', event => {
      const xPosition = event.clientX - field.getBoundingClientRect().left - (ball.clientWidth / 2);
      const yPosition = event.clientY - field.getBoundingClientRect().top - (ball.clientHeight / 2);

      ball.style.left = xPosition + "px";
      ball.style.top = yPosition + "px";
    })
  </script>

  <code>
    const field = document.querySelector('#field');
    const ball = document.querySelector('#ball');
    const ballGetBounding = ball.getBoundingClientRect();

    field.addEventListener('click', event => {
      const xPosition = event.clientX - field.getBoundingClientRect().left - (ball.clientWidth / 2);
      const yPosition = event.clientY - field.getBoundingClientRect().top - (ball.clientHeight / 2);

      ball.style.left = xPosition + "px";
      ball.style.top = yPosition + "px";
    })
  </code>

  <hr>

  <h2>Task #5. Cоздать раскрывающееся меню</h2>
  <p>Создать меню, которое по нажатию открывается либо закрывается:</p>
  <a class="sweetLink" href="javascript:void(0);" id="sweet">Сладости (нажми меня)!</a>
  <ul class="sweetList" id="sweet-list">
    <li>Пирожное</li>
    <li>Пончик</li>
    <li>Мёд</li>
  </ul>

  <script>
    const href = document.querySelector('#sweet');
    const list = document.querySelector('#sweet-list');

    href.addEventListener('click', () => list.classList.toggle('hide'));
  </script>

  <code>
      const href = document.querySelector('#sweet');
      const list = document.querySelector('#sweet-list');
  
      href.addEventListener('click', () => list.classList.toggle('hide'));
    </code>

  <hr>

  <h2>Task #6. Добавить кнопку закрытия</h2>
  <p>Есть список сообщений.
    При помощи JavaScript для каждого сообщения добавьте в верхний правый угол кнопку закрытия.
    Результат должен выглядеть, как показано здесь:</p>


  <div class="container">
    <div class="pane">
      <h3>Лошадь</h3>
      <p>Домашняя лошадь — животное семейства непарнокопытных, одомашненный и единственный сохранившийся подвид дикой
        лошади, вымершей в дикой природе, за исключением небольшой популяции лошади Пржевальского.</p>
      <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
      <h3>Осёл</h3>
      <p>Домашний осёл (лат. Equus asinus asinus), или ишак, — одомашненный подвид дикого осла (Equus asinus), сыгравший
        важную историческую роль в развитии хозяйства и культуры человека и по-прежнему широко в хозяйстве многих
        развивающихся стран.</p>
      <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
      <h3>Кошка</h3>
      <p>Кошка, или домашняя кошка (лат. Felis silvestris catus), — домашнее животное, одно из наиболее
        популярных(наряду с собакой) «животных-компаньонов». Являясь одиночным охотником на грызунов и других мелких
        животных, кошка — социальное животное, использующее для общения широкий диапазон звуковых сигналов.</p>
      <button class="remove-button">[x]</button>
    </div>
  </div>

  <script>
    const deleteButton = document.querySelectorAll('.remove-button');
    const pane = document.querySelectorAll('.pane');

    document.querySelectorAll('.remove-button').forEach(item => {
      item.addEventListener('click', function () {
        item.closest('div').remove();
      })
    })
  </script>

  <code>
    const deleteButton = document.querySelectorAll('.remove-button');
    const pane = document.querySelectorAll('.pane');

    document.querySelectorAll('.remove-button').forEach(item => {
      item.addEventListener('click', function () {
        item.closest('div').remove();
      })
    })
  </code>

  <hr>

  <h2>Task #7. Карусель</h2>
  <p>Создайте «Карусель» –- ленту изображений, которую можно листать влево-вправо нажатием на стрелочки. В дальнейшем
    к ней можно будет добавить анимацию, динамическую подгрузку и другие возможности.
    P.S. В этой задаче разработка структуры HTML/CSS составляет 90% решения.</p>


  <div class="carousel">
    <button class="arrow-left">➜</button>
    <div class="slide">

    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img1.webp" alt="img1" loading="lazy" />
    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img2.webp" alt="img2" loading="lazy" />
    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img3.webp" alt="img3" loading="lazy" />
    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img4.webp" alt="img4" loading="lazy" />
    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img5.webp" alt="img5" loading="lazy" />
    </div>
    <div class="slide">
      <img class='carousel-img' src="./src/img6.webp" alt="img6" loading="lazy" />
    </div>
    <button class="arrow-right">➜</button>
  </div>

  <script>
    const buttonLeft = document.querySelector('.arrow-left');
    buttonLeft.disabled = true;
    const buttonRight = document.querySelector('.arrow-right');
    const slides = document.querySelectorAll('.carousel-img');

    slides.forEach((slide, index) => slide.style.transform = `translateX(${index * 100}%`);

    let currentSlide = 0;
    const maxSlidesCount = slides.length - 1;

    const disableButton = () => {
      buttonLeft.disabled = true;
    };

    const enableButton = () => {
      buttonLeft.disabled = false;
    };

    buttonRight.addEventListener('click', event => {
      currentSlide === maxSlidesCount ? currentSlide = 0 : currentSlide += 1;
      enableButton();

      slides.forEach((slide, indx) => {
        slide.style.transform = `translateX(${100 * (indx - currentSlide)}%)`;
      });
    });

    buttonLeft.addEventListener('click', event => {
      if (currentSlide === 0) {
        disableButton();
      } else {
        currentSlide -= 1;
      }

      slides.forEach((slide, indx) => {
        slide.style.transform = `translateX(${100 * (indx - currentSlide)}%)`;
      });
    });
  </script>

  <code>
    const buttonLeft = document.querySelector('.arrow-left');
    const buttonRight = document.querySelector('.arrow-right');
    const slides = document.querySelectorAll('.carousel-img');

    slides.forEach((slide, index) => slide.style.transform = `translateX(${index * 100}%`);

    let currentSlide = 0;
    const maxSlidesCount = slides.length - 1;

    const disableButton = () => {
      buttonLeft.disabled = true;
    };

    const enableButton = () => {
      buttonLeft.disabled = false;
    };

    buttonRight.addEventListener('click', event => {
      currentSlide === maxSlidesCount ? currentSlide = 0 : currentSlide += 1;
      enableButton();

      slides.forEach((slide, indx) => {
        slide.style.transform = `translateX(${100 * (indx - currentSlide)}%)`;
      });
    });

    buttonLeft.addEventListener('click', event => {
      if (currentSlide === 0) {
        disableButton();
      } else {
        currentSlide -= 1;
      }

      slides.forEach((slide, indx) => {
        slide.style.transform = `translateX(${100 * (indx - currentSlide)}%)`;
      });
    });
    </code>
</body>

</html>